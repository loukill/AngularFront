<mat-card class="add-user-card primary-card">
  <mat-card-header class="header">
    <mat-card-title class="title">Ajouter un utilisateur</mat-card-title>
    <mat-card-subtitle class="subtitle">Remplissez les informations ci-dessous pour ajouter un utilisateur</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content class="content">
    <form [formGroup]="userForm">
      <!-- User Name -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Nom d'utilisateur</mat-label>
        <mat-icon matPrefix>account_circle</mat-icon>
        <input matInput formControlName="userName" placeholder="Entrez le nom d'utilisateur">
        <mat-error *ngIf="userForm.get('userName')?.hasError('required')">
          Le nom d'utilisateur est requis
        </mat-error>
      </mat-form-field>

      <!-- Email -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Email</mat-label>
        <mat-icon matPrefix>email</mat-icon>
        <input matInput formControlName="email" placeholder="Entrez l'email">
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          L'email est requis
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          Email invalide
        </mat-error>
      </mat-form-field>

      <!-- Password -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Mot de passe</mat-label>
        <mat-icon matPrefix>lock</mat-icon>
        <input matInput formControlName="password" placeholder="Entrez le mot de passe" type="password">
        <mat-error *ngIf="userForm.get('password')?.hasError('required')">
          Le mot de passe est requis
        </mat-error>
        <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">
          Le mot de passe doit contenir au moins 8 caractères
        </mat-error>
      </mat-form-field>

      <!-- Role -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Rôle</mat-label>
        <mat-icon matPrefix>supervisor_account</mat-icon>
        <mat-select formControlName="roleUser">
          <mat-option *ngFor="let role of roles" [value]="role">{{ role }}</mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </mat-card-content>
  <mat-card-actions class="actions">
    <button mat-stroked-button color="warn" (click)="onCancel()">Annuler</button>
    <button mat-flat-button color="primary" [mat-dialog-close]="userForm.value" [disabled]="userForm.invalid">
      Ajouter
    </button>
  </mat-card-actions>
</mat-card>
